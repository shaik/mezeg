<!DOCTYPE html>
<html>
<head>
    <title>Weather Results for {{ city }}</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='favicon.png') }}">

</head>
<body>
    <table class="weather-table">
    <tr>
        <th colspan="{{ NUM_DAYS + 1 }}" style="text-align: center;">Weather History for {{ city }}</th>
    </tr>
    <tr>
         <th>Year</th>
        {% for header in date_headers %}
            <th>{{ header }}</th>
        {% endfor %}
    </tr>
    {% for year_data in weather_data %}
    <tr>
        <td>{{ year_data['year'] }}</td>
        {% for data in year_data['data'] %}
            <td>
                {% if data.get('error') %}
                    {{ data['error'] }}
                {% else %}
                    <img src="{{ url_for('static', filename='weathericons/' ~ data['icon']) }}" alt="Weather Icon">
                    <div class="temperature-container">
                        <span class="temperature-range">{{ data['min_temp'] }} - {{ data['max_temp'] }}Â°C</span>
                    </div>
                <!--
                    <div class="weather-clouds">
                        {{ data['clouds'] }}
                     </div>
                -->
                    <div class="weather-detail">
                        <img src="{{ url_for('static', filename='humidity.png') }}" class="weather-icon" alt="Humidity">
                        {{ data['humidity']|int }}%
                    </div>
                    <div class="weather-detail">
                        <img src="{{ url_for('static', filename='wind.png') }}" class="weather-icon" alt="Wind Speed">
                        {{ data['wind_speed'] }} kph
                    </div>
                    <div class="weather-detail">
                        <img src="{{ url_for('static', filename='rain.png') }}" class="weather-icon" alt="Precipitation">
                        {{ data['precipitation']}}
                    </div>

                {% endif %}
            </td>
        {% endfor %}
    </tr>
    {% endfor %}

</table>
</body>
</html>
