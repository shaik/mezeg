<!DOCTYPE html>
<html>
<head>
    <title>Weather Results for {{ city }}</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='favicon.png') }}">

</head>
<body>
    <table class="weather-table">
    <tr>
        <th colspan="{{ NUM_DAYS + 1 }}" style="text-align: center;">Weather History for {{ city }}</th>
    </tr>
    <tr>
         <th>Year</th>
        {% for header in date_headers %}
            <th>{{ header }}</th>
        {% endfor %}
    </tr>
    {% for year_data in weather_data %}
    <tr>
        <td>{{ year_data['year'] }}</td>
        {% for data in year_data['data'] %}
            <td>
                {% if data.get('error') %}
                    {{ data['error'] }}
                {% else %}
                    <div class="temperature-container">
                        <span class="temperature-range">{{ data['min_temp'] }}°C - {{ data['max_temp'] }}°C</span>
                    </div>
                    {{ data['clouds'] }} <!-- ({{ data['cloud_cover']|int }}%) --><br>
                    <img src="{{ url_for('static', filename='humidity.png') }}" class="humidity-icon" alt="Humidity">
                    {{ data['humidity']|int }}%<br>
                    <img src="{{ url_for('static', filename='wind.png') }}" class="humidity-icon" alt="Wind Speed">
                    {{ data['wind_speed'] }} kph<br>
                    Precipitation: {{ data['precipitation'] }} mm<br>

                {% endif %}
            </td>
        {% endfor %}
    </tr>
    {% endfor %}

</table>
</body>
</html>
