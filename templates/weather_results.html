<!DOCTYPE html>
<html>
<head>
    <title>Weather Results for {{ city }}</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <table class="weather-table">
    <tr>
        <th colspan="{{ NUM_DAYS + 1 }}" style="text-align: center;">Weather History for {{ city }}</th>
    </tr>
    <tr>
         <th>Year</th>
        {% for header in date_headers %}
            <th>{{ header }}</th>
        {% endfor %}
    </tr>
    {% for year_data in weather_data %}
    <tr>
        <td>{{ year_data['year'] }}</td>
        {% for data in year_data['data'] %}
            <td>
                {% if data.get('error') %}
                    {{ data['error'] }}
                {% else %}
                    {{ data['min_temp'] }} - {{ data['max_temp'] }}Â°C<br>
                    Humidity: {{ data['humidity'] }}%<br>
                    Wind: {{ data['wind_speed'] }} kph<br>
                {% endif %}
            </td>
        {% endfor %}
    </tr>
    {% endfor %}

</table>
</body>
</html>
